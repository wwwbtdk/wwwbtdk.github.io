!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var r=e();for(var n in r)("object"==typeof exports?exports:t)[n]=r[n]}}(this,(function(){return(()=>{var t={47:t=>{var e=function(t){"use strict";var e,r=Object.prototype,n=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var o=e&&e.prototype instanceof v?e:v,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n=l;return function(o,i){if(n===d)throw new Error("Generator is already running");if(n===p){if("throw"===o)throw i;return j()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=A(a,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===l)throw n=p,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=d;var c=h(t,e,r);if("normal"===c.type){if(n=r.done?p:f,c.arg===y)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n=p,r.method="throw",r.arg=c.arg)}}}(t,r,a),i}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var l="suspendedStart",f="suspendedYield",d="executing",p="completed",y={};function v(){}function w(){}function g(){}var m={};c(m,i,(function(){return this}));var b=Object.getPrototypeOf,E=b&&b(b(P([])));E&&E!==r&&n.call(E,i)&&(m=E);var _=g.prototype=v.prototype=Object.create(m);function S(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==typeof l&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var o;this._invoke=function(t,n){function i(){return new e((function(e,o){r(t,n,e,o)}))}return o=o?o.then(i,i):i()}}function A(t,r){var n=t.iterator[r.method];if(n===e){if(r.delegate=null,"throw"===r.method){if(t.iterator.return&&(r.method="return",r.arg=e,A(t,r),"throw"===r.method))return y;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var o=h(n,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function P(t){if(t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}return{next:j}}function j(){return{value:e,done:!0}}return w.prototype=g,c(_,"constructor",g),c(g,"constructor",w),w.displayName=c(g,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,c(t,s,"GeneratorFunction")),t.prototype=Object.create(_),t},t.awrap=function(t){return{__await:t}},S(x.prototype),c(x.prototype,a,(function(){return this})),t.AsyncIterator=x,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new x(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(_),c(_,s,"Generator"),c(_,i,(function(){return this})),c(_,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=P,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(k),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;k(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}(t.exports);try{regeneratorRuntime=e}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}},457:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getAuthServiceHost=void 0;const n=r(378);e.getAuthServiceHost=t=>{switch(t){case n.Product.BER:return"https://auth.berlingske.dk";case n.Product.BTA:return"https://auth.bt.dk";case n.Product.WEA:return"https://auth.weekendavisen.dk";case n.Product.EI:return"https://auth.euroinvestor.dk";default:throw new Error("[ASSdk][getAuthServiceHost] Invalid product code passed")}}},97:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),o=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),e.ASSdkError=void 0;const i=r(960),a=r(457);o(r(960),e);var s=r(378);if(Object.defineProperty(e,"ASSdkError",{enumerable:!0,get:function(){return s.ASSdkError}}),document.currentScript){const t=document.currentScript.getAttribute("data-product"),e=document.currentScript.getAttribute("data-proxy");if(!t)throw new TypeError('[AS SDK] You have to provide product as a "data-product" attribute on the script tag.');try{window.asSdk=new i.ASSdk(e||(0,a.getAuthServiceHost)(t))}catch(t){console.error(t)}}},960:function(t,e,r){"use strict";var n,o,i,a,s,c,u,h,l=this&&this.__classPrivateFieldGet||function(t,e,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(t):n?n.value:e.get(t)},f=this&&this.__classPrivateFieldSet||function(t,e,r,n,o){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?o.call(t,r):o?o.value=r:e.set(t,r),r};Object.defineProperty(e,"__esModule",{value:!0}),e.ASSdk=void 0;const d=r(886),p=r(378),y=r(257),v=r(127),w=r(482),g=r(570);e.ASSdk=class{constructor(t){this.apiHost=t,n.add(this),this.ACCESS_TOKEN_STORAGE_KEY="access_token",this.IS_LOGEED_IN_STORAGE_KEY="isLoggedIn",this.SDK_READY_EVENT="as:sdk:ready",this.REFRESH_GRACE_PERIOD=120,this.isReady=!1,o.set(this,[]),i.set(this,!1),a.set(this,null),s.set(this,null),this.httpClient=new d.HttpClient(this.apiHost,new d.AccessTokenAuthProvider((()=>this.getAccessToken()))),l(this,n,"m",c).call(this)}async isLoggedIn(){const t=await this.getAccessToken();if(!t)return!1;const{body:{sub:e}}=(0,y.parseToken)(t);return!!e&&e!==p.TokenSubject.ANONYMOUS}async initializeGigyaExchange(t){const e=new d.GigyaAuthProvider(t);this.httpClientWithGigyaAuth=new d.HttpClient(this.apiHost,e);const r=await e.isGigyaReady;try{await(0,v.promisifyGigya)(r.accounts.session.verify,{})}catch(t){return void console.error(t)}const n=sessionStorage.getItem(this.ACCESS_TOKEN_STORAGE_KEY);if(n){const{body:t}=(0,y.parseToken)(n);"anonymous"===t.sub&&await this.exchange()}else await this.exchange()}async getAccessToken(){try{const t=localStorage.getItem(this.IS_LOGEED_IN_STORAGE_KEY),e=sessionStorage.getItem(this.ACCESS_TOKEN_STORAGE_KEY);if("false"===t&&!e)return l(this,n,"m",h).call(this,e),null;if(!e)try{const{accessToken:t}=await this.refreshToken();return l(this,n,"m",h).call(this,t),t}catch(t){return l(this,n,"m",h).call(this,null),null}const{body:r}=(0,y.parseToken)(e);if(r.exp-this.REFRESH_GRACE_PERIOD<=Math.floor(Date.now()/1e3)){const{accessToken:t}=await this.refreshToken();return l(this,n,"m",h).call(this,t),t}return l(this,n,"m",h).call(this,e),e}catch(t){throw new p.ASSdkError(t.message)}}async refreshToken(){try{this.httpClient.setRequestContext({credentials:"include"});const t=await this.httpClient.request("GET","/auth/refresh");if(200===t.status){const e=await t.json();return sessionStorage.setItem(this.ACCESS_TOKEN_STORAGE_KEY,e.accessToken),l(this,n,"m",h).call(this,e.accessToken),e}throw 400===t.status&&(localStorage.setItem(this.IS_LOGEED_IN_STORAGE_KEY,"false"),l(this,n,"m",h).call(this,null)),new Error(t.status.toString())}catch(t){throw new p.ASSdkError(t.message)}}async authenticate(t,e){try{this.httpClient.setRequestContext({credentials:"include"});const r=await this.httpClient.request("POST","/auth/authenticate",{email:t,password:e}),o=await r.json();if(200===r.status)return sessionStorage.setItem(this.ACCESS_TOKEN_STORAGE_KEY,o.accessToken),localStorage.setItem(this.IS_LOGEED_IN_STORAGE_KEY,"true"),l(this,n,"m",h).call(this,o.accessToken),o;throw new p.ASSdkError(r.status.toString(),o.errorCode)}catch(t){if(t instanceof d.ApiClientError)throw new p.ASSdkError(t.message,"NETWORK_ERROR");throw new p.ASSdkError(t.message,t.errorCode)}}async impersonate(){const t=window.location.hash.match(/impersonate=([^&]*)/);if(t){const e=t[1];sessionStorage.setItem(this.ACCESS_TOKEN_STORAGE_KEY,e),localStorage.setItem(this.IS_LOGEED_IN_STORAGE_KEY,"true"),l(this,n,"m",h).call(this,e)}}async me(){try{const t=await this.getAccessToken();if(!t)return l(this,n,"m",h).call(this,null),null;const e=(0,w.parseUserFromAccessToken)(t);return l(this,n,"m",h).call(this,t),e}catch(t){throw new p.ASSdkError(t.message)}}async logout(){try{this.httpClient.setRequestContext({credentials:"include"});const t=await this.httpClient.request("GET","/auth/logout",{},!0);if(200===t.status)return sessionStorage.removeItem(this.ACCESS_TOKEN_STORAGE_KEY),l(this,n,"m",h).call(this,null),t.json();throw new Error(t.status.toString())}catch(t){throw new p.ASSdkError(t.message)}}async exchange(){try{this.httpClientWithGigyaAuth.setRequestContext({credentials:"include"});const t=await this.httpClientWithGigyaAuth.request("GET","/auth/exchange");if(200===t.status){const e=await t.json();return sessionStorage.setItem(this.ACCESS_TOKEN_STORAGE_KEY,e.accessToken),l(this,n,"m",h).call(this,e.accessToken),e}throw new Error(t.status.toString())}catch(t){throw new p.ASSdkError(t.message)}}getUserFromAccessToken(t){return(0,w.parseUserFromAccessToken)(t)}subscribe(t){return l(this,o,"f").push(t),t({event:"subscribed",isLoggedIn:l(this,i,"f"),user:l(this,a,"f"),accessToken:l(this,s,"f")}),()=>{f(this,o,l(this,o,"f").filter((e=>e!==t)),"f")}}},o=new WeakMap,i=new WeakMap,a=new WeakMap,s=new WeakMap,n=new WeakSet,c=async function(){try{f(this,i,await this.isLoggedIn(),"f"),f(this,a,await this.me(),"f"),f(this,s,await this.getAccessToken(),"f")}catch(t){console.error("[asSDK initialise]",t)}this.isReady=!0,window.dispatchEvent(new Event(this.SDK_READY_EVENT)),await this.impersonate()},u=function(t){const e={event:t,isLoggedIn:l(this,i,"f"),user:l(this,a,"f"),accessToken:l(this,s,"f")};l(this,o,"f").forEach((t=>t(e)))},h=function(t){let e;if(t!==l(this,s,"f")){if(null===t)e="logout",f(this,s,null,"f"),f(this,a,null,"f"),f(this,i,!1,"f");else{const r=(0,w.parseUserFromAccessToken)(t);null===l(this,s,"f")?(e="login",f(this,s,t,"f"),f(this,a,r,"f"),f(this,i,!0,"f")):(e="update",f(this,s,t,"f"),(0,g.checkForUserDataChange)(l(this,a,"f"),r)&&f(this,a,r,"f"))}l(this,n,"m",u).call(this,e)}}},378:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Product=e.TokenSubject=e.ASSdkError=void 0;class r extends Error{constructor(t="",e=""){super(t),this.errorCode=e}}var n;e.ASSdkError=r,(e.TokenSubject||(e.TokenSubject={})).ANONYMOUS="anonymous",(n=e.Product||(e.Product={})).BER="BER",n.BTA="BTA",n.WEA="WEA",n.EI="EI"},570:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.checkForUserDataChange=void 0,e.checkForUserDataChange=(t,e)=>!(null===t&&null===e||null!==t&&null!==e&&JSON.stringify(t)===JSON.stringify(e))},257:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseToken=void 0;const n=r(575);e.parseToken=t=>{const[e,r,o]=t.split(".");return{header:JSON.parse((0,n.decode)(e)),body:JSON.parse((0,n.decode)(r)),signature:o}}},482:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseUserFromAccessToken=void 0;const n=r(257);e.parseUserFromAccessToken=t=>{const{body:e}=(0,n.parseToken)(t);return{UID:e.sub,email:e.email,lastName:e.lastName||null,firstName:e.firstName||null,roles:e.roles||[],subscriptionTypes:e.subscriptionTypes||[]}}},127:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.promisifyGigya=void 0,e.promisifyGigya=(t,e)=>new Promise(((r,n)=>{t({...e,callback:t=>{0===t.errorCode?r(t):n(t)}})}))},575:function(t,e,r){"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==r.g&&r.g,t.exports=function(){"use strict";var t,e="3.7.7",r="function"==typeof Buffer,n="function"==typeof TextDecoder?new TextDecoder:void 0,o="function"==typeof TextEncoder?new TextEncoder:void 0,i=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),a=(t={},i.forEach((function(e,r){return t[e]=r})),t),s=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,c=String.fromCharCode.bind(String),u="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):function(t){return new Uint8Array(Array.prototype.slice.call(t,0))},h=function(t){return t.replace(/=/g,"").replace(/[+\/]/g,(function(t){return"+"==t?"-":"_"}))},l=function(t){return t.replace(/[^A-Za-z0-9\+\/]/g,"")},f=function(t){for(var e,r,n,o,a="",s=t.length%3,c=0;c<t.length;){if((r=t.charCodeAt(c++))>255||(n=t.charCodeAt(c++))>255||(o=t.charCodeAt(c++))>255)throw new TypeError("invalid character found");a+=i[(e=r<<16|n<<8|o)>>18&63]+i[e>>12&63]+i[e>>6&63]+i[63&e]}return s?a.slice(0,s-3)+"===".substring(s):a},d="function"==typeof btoa?function(t){return btoa(t)}:r?function(t){return Buffer.from(t,"binary").toString("base64")}:f,p=r?function(t){return Buffer.from(t).toString("base64")}:function(t){for(var e=[],r=0,n=t.length;r<n;r+=4096)e.push(c.apply(null,t.subarray(r,r+4096)));return d(e.join(""))},y=function(t,e){return void 0===e&&(e=!1),e?h(p(t)):p(t)},v=function(t){if(t.length<2)return(e=t.charCodeAt(0))<128?t:e<2048?c(192|e>>>6)+c(128|63&e):c(224|e>>>12&15)+c(128|e>>>6&63)+c(128|63&e);var e=65536+1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320);return c(240|e>>>18&7)+c(128|e>>>12&63)+c(128|e>>>6&63)+c(128|63&e)},w=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,g=function(t){return t.replace(w,v)},m=r?function(t){return Buffer.from(t,"utf8").toString("base64")}:o?function(t){return p(o.encode(t))}:function(t){return d(g(t))},b=function(t,e){return void 0===e&&(e=!1),e?h(m(t)):m(t)},E=function(t){return b(t,!0)},_=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,S=function(t){switch(t.length){case 4:var e=((7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3))-65536;return c(55296+(e>>>10))+c(56320+(1023&e));case 3:return c((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return c((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},x=function(t){return t.replace(_,S)},A=function(t){if(t=t.replace(/\s+/g,""),!s.test(t))throw new TypeError("malformed base64.");t+="==".slice(2-(3&t.length));for(var e,r,n,o="",i=0;i<t.length;)e=a[t.charAt(i++)]<<18|a[t.charAt(i++)]<<12|(r=a[t.charAt(i++)])<<6|(n=a[t.charAt(i++)]),o+=64===r?c(e>>16&255):64===n?c(e>>16&255,e>>8&255):c(e>>16&255,e>>8&255,255&e);return o},T="function"==typeof atob?function(t){return atob(l(t))}:r?function(t){return Buffer.from(t,"base64").toString("binary")}:A,k=r?function(t){return u(Buffer.from(t,"base64"))}:function(t){return u(T(t).split("").map((function(t){return t.charCodeAt(0)})))},O=function(t){return k(j(t))},P=r?function(t){return Buffer.from(t,"base64").toString("utf8")}:n?function(t){return n.decode(k(t))}:function(t){return x(T(t))},j=function(t){return l(t.replace(/[-_]/g,(function(t){return"-"==t?"+":"/"})))},C=function(t){return P(j(t))},L=function(t){return{value:t,enumerable:!1,writable:!0,configurable:!0}},R=function(){var t=function(t,e){return Object.defineProperty(String.prototype,t,L(e))};t("fromBase64",(function(){return C(this)})),t("toBase64",(function(t){return b(this,t)})),t("toBase64URI",(function(){return b(this,!0)})),t("toBase64URL",(function(){return b(this,!0)})),t("toUint8Array",(function(){return O(this)}))},G=function(){var t=function(t,e){return Object.defineProperty(Uint8Array.prototype,t,L(e))};t("toBase64",(function(t){return y(this,t)})),t("toBase64URI",(function(){return y(this,!0)})),t("toBase64URL",(function(){return y(this,!0)}))},I={version:e,VERSION:"3.7.7",atob:T,atobPolyfill:A,btoa:d,btoaPolyfill:f,fromBase64:C,toBase64:b,encode:b,encodeURI:E,encodeURL:E,utob:g,btou:x,decode:C,isValid:function(t){if("string"!=typeof t)return!1;var e=t.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(e)||!/[^\s0-9a-zA-Z\-_]/.test(e)},fromUint8Array:y,toUint8Array:O,extendString:R,extendUint8Array:G,extendBuiltins:function(){R(),G()},Base64:{}};return Object.keys(I).forEach((function(t){return I.Base64[t]=I[t]})),I}()},886:function(t){t.exports=(()=>{var t={47:t=>{var e=function(t){"use strict";var e,r=Object.prototype,n=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var o=e&&e.prototype instanceof v?e:v,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n=l;return function(o,i){if(n===d)throw new Error("Generator is already running");if(n===p){if("throw"===o)throw i;return j()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=A(a,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===l)throw n=p,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=d;var c=h(t,e,r);if("normal"===c.type){if(n=r.done?p:f,c.arg===y)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n=p,r.method="throw",r.arg=c.arg)}}}(t,r,a),i}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var l="suspendedStart",f="suspendedYield",d="executing",p="completed",y={};function v(){}function w(){}function g(){}var m={};c(m,i,(function(){return this}));var b=Object.getPrototypeOf,E=b&&b(b(P([])));E&&E!==r&&n.call(E,i)&&(m=E);var _=g.prototype=v.prototype=Object.create(m);function S(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function r(o,i,a,s){var c=h(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==typeof l&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var o;this._invoke=function(t,n){function i(){return new e((function(e,o){r(t,n,e,o)}))}return o=o?o.then(i,i):i()}}function A(t,r){var n=t.iterator[r.method];if(n===e){if(r.delegate=null,"throw"===r.method){if(t.iterator.return&&(r.method="return",r.arg=e,A(t,r),"throw"===r.method))return y;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var o=h(n,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function P(t){if(t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}return{next:j}}function j(){return{value:e,done:!0}}return w.prototype=g,c(_,"constructor",g),c(g,"constructor",w),w.displayName=c(g,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,c(t,s,"GeneratorFunction")),t.prototype=Object.create(_),t},t.awrap=function(t){return{__await:t}},S(x.prototype),c(x.prototype,a,(function(){return this})),t.AsyncIterator=x,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new x(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(_),c(_,s,"Generator"),c(_,i,(function(){return this})),c(_,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=P,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(k),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;k(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}(t.exports);try{regeneratorRuntime=e}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}},107:function(t,e){"use strict";var r=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(o,i){function a(t){try{c(n.next(t))}catch(t){i(t)}}function s(t){try{c(n.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}c((n=n.apply(t,e||[])).next())}))},n=this&&this.__generator||function(t,e){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function o(){return new Promise((function(t){if(window.asSdk)t();else{var e=function(){window.removeEventListener("as:sdk:ready",e),t()};window.addEventListener("as:sdk:ready",e)}}))}Object.defineProperty(e,"__esModule",{value:!0}),e.AccessTokenAuthProvider=e.waitForAsSdk=void 0,e.waitForAsSdk=o;var i=function(){function t(t,e){void 0===e&&(e=null),this.getToken=t,this.product=e}return t.prototype.authorize=function(t,e){return r(this,void 0,void 0,(function(){var r;return n(this,(function(n){switch(n.label){case 0:return this.product&&t.headers.set("bm-active-product",this.product),e?[4,o()]:[2,t];case 1:return n.sent(),[4,this.getToken()];case 2:return(r=n.sent())&&t.headers.set("Authorization","Bearer "+r),[2,t]}}))}))},t}();e.AccessTokenAuthProvider=i},593:function(t,e){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.AuthProviderError=void 0;var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(Error);e.AuthProviderError=o},281:function(t,e){"use strict";var r=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(o,i){function a(t){try{c(n.next(t))}catch(t){i(t)}}function s(t){try{c(n.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}c((n=n.apply(t,e||[])).next())}))},n=this&&this.__generator||function(t,e){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.GigyaAuthProvider=e.JwtTokenRefreshIntervalThreshold=e.JwtTokenExpirationTime=void 0,e.JwtTokenExpirationTime=300,e.JwtTokenRefreshIntervalThreshold=.9;var o=function(){function t(t,r){var n=this;void 0===r&&(r={expirationTime:e.JwtTokenExpirationTime,refreshIntervalFactor:e.JwtTokenRefreshIntervalThreshold}),this.product=t,this.options=r,this.refreshTimeout=0,window.addEventListener("unload",(function(){window.clearInterval(n.refreshTimeout)})),this.isGigyaReady.then((function(t){t.accounts.addEventHandlers({onLogout:function(){n.uid=void 0,n.jwt=void 0}})}))}return t.prototype.authorize=function(t,e){return r(this,void 0,void 0,(function(){return n(this,(function(r){switch(r.label){case 0:return t.headers.set("bm-active-product",this.product),void 0!==this.jwt&&void 0!==this.uid?[2,this.setAuthHeaders(this.uid,this.jwt,t)]:[4,this.refreshCredentials(e)];case 1:return r.sent(),void 0!==this.jwt&&void 0!==this.uid?[2,this.setAuthHeaders(this.uid,this.jwt,t)]:[2,Promise.resolve(t)]}}))}))},Object.defineProperty(t.prototype,"isGigyaReady",{get:function(){return new Promise((function(t){var e=setInterval((function(){void 0!==window.gigya&&window.gigya.isReady&&(clearInterval(e),t(window.gigya))}),100)})).then((function(t){return t}))},enumerable:!1,configurable:!0}),t.prototype.setAuthHeaders=function(t,e,r){return r.headers.set("bm-user-token",e),r.headers.set("bm-user",t),r},t.prototype.refreshCredentials=function(t){return r(this,void 0,void 0,(function(){var e,r,o=this;return n(this,(function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),e=this,[4,this.getUID()];case 1:return e.uid=n.sent(),r=this,[4,this.getJWT()];case 2:return r.jwt=n.sent(),this.refreshTimeout=window.setTimeout((function(){o.refreshCredentials(t)}),1e3*this.options.expirationTime*this.options.refreshIntervalFactor),[3,4];case 3:if(n.sent(),this.uid=void 0,this.jwt=void 0,t)throw new Error("Not authorized");return[3,4];case 4:return[2]}}))}))},t.prototype.getJWT=function(){var t=this;return new Promise((function(e,o){return r(t,void 0,void 0,(function(){return n(this,(function(t){switch(t.label){case 0:return[4,this.isGigyaReady];case 1:return t.sent().accounts.getJWT({expiration:this.options.expirationTime,callback:function(t){"OK"===t.status?e(t.id_token):o(new Error("Not authorized"))}}),[2]}}))}))}))},t.prototype.getUID=function(){var t=this;return new Promise((function(e,o){return r(t,void 0,void 0,(function(){return n(this,(function(t){switch(t.label){case 0:return[4,this.isGigyaReady];case 1:return t.sent().accounts.getAccountInfo({callback:function(t){"OK"===t.status?e(t.UID):o(new Error(t.errorMessage))}}),[2]}}))}))}))},t}();e.GigyaAuthProvider=o},570:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.implementsAuthProvider=void 0,e.implementsAuthProvider=function(t){return null!=t&&"function"==typeof t.authorize}},133:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),o=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(r(593),e),o(r(281),e),o(r(609),e),o(r(107),e),o(r(570),e)},609:function(t,e){"use strict";var r=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(o,i){function a(t){try{c(n.next(t))}catch(t){i(t)}}function s(t){try{c(n.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}c((n=n.apply(t,e||[])).next())}))},n=this&&this.__generator||function(t,e){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.OAuthAuthProvider=void 0;var o=function(){function t(t,e){this.token=t,this.getToken=e}return t.prototype.authorize=function(t,e){return r(this,void 0,void 0,(function(){var e;return n(this,(function(r){return e="function"==typeof this.getToken?this.getToken():this.token,t.headers.set("Authorization","Bearer "+e),[2,Promise.resolve(t)]}))}))},t}();e.OAuthAuthProvider=o},113:function(t,e){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||function(){return o=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},o.apply(this,arguments)},i=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(o,i){function a(t){try{c(n.next(t))}catch(t){i(t)}}function s(t){try{c(n.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}c((n=n.apply(t,e||[])).next())}))},a=this&&this.__generator||function(t,e){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.HttpClient=e.ApiClientError=void 0;var s=function(t){function e(e,r,n){void 0===r&&(r="");var o=t.call(this,r)||this;return o.errorCode=e,o.errors=n,o}return n(e,t),e}(Error);e.ApiClientError=s;var c=function(){function t(t,e){this.apiHost=t,this.authProvider=e}return t.prototype.request=function(t,e,r,n,c){var u,h;return void 0===n&&(n=!1),i(this,void 0,void 0,(function(){var i,l,f,d;return a(this,(function(a){switch(a.label){case 0:return(i=new URL(""+this.apiHost+e)).pathname=i.pathname.replaceAll("//","/"),l={method:t,mode:"cors",cache:"no-cache",headers:this.createHeaders(),redirect:"follow"},void 0!==(null===(u=this.requestContext)||void 0===u?void 0:u.credentials)&&(l.credentials=null===(h=this.requestContext)||void 0===h?void 0:h.credentials),["POST","PATCH","PUT"].includes(t)&&(f=o({},r),void 0!==c&&Object.keys(c).length>0&&(f.requestInfo=c),l.body=JSON.stringify(f)),["GET","HEAD","DELETE"].includes(t)&&(i.search=this.createSearchParams(r||{}).toString()),[4,this.authProvider.authorize(new Request(i.toString(),l),n)];case 1:d=a.sent();try{return[2,fetch(d)]}catch(t){throw new s(500026,"Network error")}return[2]}}))}))},t.prototype.setRequestContext=function(t){this.requestContext=t},t.prototype.clearRequestContext=function(){this.requestContext=void 0},t.prototype.getRequestContext=function(){return this.requestContext},t.prototype.createHeaders=function(){var t,e,r,n=new Headers;return n.set("Content-type","application/json"),n.set("Accept","application/json"),void 0!==(null===(t=this.requestContext)||void 0===t?void 0:t.uid)&&n.set("US-User",this.requestContext.uid),void 0!==(null===(e=this.requestContext)||void 0===e?void 0:e.traceId)&&n.set("BM-Trace-Id",this.requestContext.traceId),void 0!==(null===(r=this.requestContext)||void 0===r?void 0:r.product)&&n.set("BM-Active-Product",this.requestContext.product),n},t.prototype.createSearchParams=function(t){var e=Object.entries(t).filter((function(t){return t[0],void 0!==t[1]})).map((function(t){return[t[0],t[1]]})),r=Object.fromEntries(e);return new URLSearchParams(r).toString()},t}();e.HttpClient=c},97:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),o=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(r(113),e),o(r(133),e),o(r(849),e)},849:function(t,e){"use strict";var r=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(o,i){function a(t){try{c(n.next(t))}catch(t){i(t)}}function s(t){try{c(n.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}c((n=n.apply(t,e||[])).next())}))},n=this&&this.__generator||function(t,e){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.createListResponse=void 0,e.createListResponse=function(t){return r(void 0,void 0,void 0,(function(){var e;return n(this,(function(r){switch(r.label){case 0:return e={size:parseInt(t.headers.get("size")||"0",10)},[4,t.json()];case 1:return[2,(e.data=r.sent(),e)]}}))}))}}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={exports:{}};return t[n].call(i.exports,i,i.exports,r),i.exports}return r(47),r(97)})()}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={exports:{}};return t[n].call(i.exports,i,i.exports,r),i.exports}return r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r(47),r(97)})()}));
//# sourceMappingURL=index.1.4.10-395c6.js.map